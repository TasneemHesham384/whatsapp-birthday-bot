# WhatsApp Birthday Reminder 🎂

يرسل **تذكير يومي على واتساب** لرقم محدّد (مثلاً جدّك) بأسماء الناس اللي عيد ميلادهم النهاردة، مع إمكانية إرسال تهنئة تلقائيًا لصاحب عيد الميلاد نفسه.

> ⚠️ يعتمد على `whatsapp-web.js` (غير رسمي). لازم تسجّلي الدخول عبر QR مرة واحدة، ويُفضّل تشغيله على جهاز/سيرفر دايمًا.

---

## المتطلبات
- **Node.js 18+**
- حساب واتساب فعّال على الموبايل لتسجيل الدخول على **WhatsApp Web**

## ملفّات المشروع
```
whatsapp-birthday-reminder/
  ├─ .env.example         ← انسخيها إلى .env وعدّلي القيم
  ├─ data/
  │   ├─ birthdays.json   ← بيانات الأعياد (صيغة JSON)
  │   └─ birthdays.csv    ← نفس البيانات (اختياري CSV)
  └─ src/
      ├─ index.js         ← نقطة التشغيل
      └─ utils.js         ← دوال مساعدة
```

> ممكن تستخدمي **JSON أو CSV** (البرنامج هيفضّل CSV لو موجود).

### شكل البيانات
**JSON:**
```json
[
  { "name": "Omar", "number": "201111111111", "birthday": "2001-09-15" },
  { "name": "Mona", "number": "201222222222", "birthday": "1998-02-29" }
]
```
**CSV:**
```csv
name,number,birthday
Omar,201111111111,2001-09-15
Mona,201222222222,1998-02-29
```

- `number` لازم يكون **بصيغة دولية بدون +** (مثال مصر: يبدأ بـ 20).
- `birthday` بصيغة `YYYY-MM-DD` (السنة مهمة لكن المطابقة يوم/شهر فقط).

---

## خطوات التشغيل (أول مرة)
1. **فك الضغط** للمجلد على جهازك.
2. افتحي المجلد في الطرفية (Terminal) وشغّلي:
   ```bash
   npm install
   ```
3. انسخي `.env.example` إلى `.env` وعدّلي القيم، أهمها:
   - `OWNER_NUMBER` رقم جدّك (دولية بدون +).
   - `TZ` عادة `Africa/Cairo` لمصر.
   - `DAILY_CRON` وقت الإرسال اليومي (افتراضي 9:00 صباحًا).
4. ضيفي أعياد الميلاد في `data/birthdays.json` أو `data/birthdays.csv`.
5. شغّلي البرنامج:
   ```bash
   npm start
   ```
6. هيظهر QR في الطرفية → افتحي **واتساب الموبايل** → الأجهزة المرتبطة → امسحي QR.
7. بعد كلمة **Ready**، البرنامج شغال. هيوصل التذكير يوميًا في الوقت المحدد.

> تقدرِ تشغّليه يدويًا الآن عشان التجربة: لما يكتب `⏰ Running daily job now...` هيبعت لو في حد عيده النهاردة.

---

## التشغيل الدائم
### على اللابتوب
- خليه شغال، أو استخدمي أداة تشغيل دائمة زي **PM2**:
  ```bash
  npm i -g pm2
  pm2 start npm --name bday-bot -- start
  pm2 save
  pm2 startup   # علشان يشتغل تلقائيًا عند فتح الجهاز
  ```

### على سيرفر (VPS/Cloud)
- نزّلي Node.js، نزّلي المشروع، `npm install`، عدّلي `.env`،
  ثم `npm start`، وامسحي الـ QR مرة واحدة.

> ملاحظة: أول مرة لازم تفتحي QR من السيرفر (SSH مع عرض الـ QR في النص). بعد كده الجلسة تتخزّن ويكمل تلقائيًا.

---

## إعدادات مهمة (.env)
- `OWNER_NUMBER`: الرقم اللي هيستقبل التذكير اليومي.
- `SEND_TO_BIRTHDAY_PERSONS`: لو `true` هيبعت تهنئة لصاحب العيد تلقائيًا.
- `DAILY_CRON`: صيغة كرون (مثال `0 9 * * *` = 9 صباحًا).
- `TZ`: المنطقة الزمنية (مهم جدًا للكرون).
- `FEB29_HANDLING`: لو `feb28` هيذكّر مواليد 29 فبراير يوم 28 في السنوات غير الكبيسة، لو `skip` هيتخطى.

---

## نصائح
- لو الأرقام بتبدأ بـ 0، البرنامج هيحوّلها تلقائيًا بإضافة `COUNTRY_CODE` من `.env`.
- تقدري تحدثي ملف CSV/JSON والبرنامج هيقرأه تلقائيًا عند كل إرسال يومي.
- لو خرجتي من كل الأجهزة المرتبطة في واتساب، لازم تعملي **Scan** للـ QR تاني.

بالتوفيق ✨
